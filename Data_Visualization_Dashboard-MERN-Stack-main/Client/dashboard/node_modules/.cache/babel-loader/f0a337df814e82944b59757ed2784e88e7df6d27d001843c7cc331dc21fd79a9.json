{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Weed/Downloads/Data_Visualization_Dashboard-MERN-Stack-main/Data_Visualization_Dashboard-MERN-Stack-main/Client/dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Weed/Downloads/Data_Visualization_Dashboard-MERN-Stack-main/Data_Visualization_Dashboard-MERN-Stack-main/Client/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import Button from'react-bootstrap/Button';import{Dropdown}from'react-bootstrap';import axios from'axios';// here we are returning a bootstrap dropdown and just a button\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Filters=function Filters(_ref){var setMainData=_ref.setMainData;//function to call the getDataFromDB function and passing the 'year' to it entered by the user\nvar handleSelect=function handleSelect(eventKey,event){getDataFromDB(event.target.innerText);};// func to fetch the filtered data by year and update the state\nvar getDataFromDB=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(year){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://dashboard-6bfs.onrender.com/api/data/year/\".concat(year));case 3:response=_context.sent;setMainData(response.data.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function getDataFromDB(_x){return _ref2.apply(this,arguments);};}();// func to handle the \"reset filters button\" by making another api call and update state \nvar handleReset=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"https://dashboard-6bfs.onrender.com/api/data/all\");case 3:response=_context2.sent;setMainData(response.data.data);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function handleReset(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"tabsClass\",style:{display:'flex',justifyContent:'center',flexDirection:'row',alignItems:'center'},children:[/*#__PURE__*/_jsxs(Dropdown,{onSelect:handleSelect,children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{variant:\"success\",id:\"dropdown-basic\",children:\"Filter By Year\"}),/*#__PURE__*/_jsxs(Dropdown.Menu,{children:[/*#__PURE__*/_jsx(Dropdown.Item,{eventKey:\"1\",children:\"2014\"}),/*#__PURE__*/_jsx(Dropdown.Item,{eventKey:\"2\",children:\"2015\"}),/*#__PURE__*/_jsx(Dropdown.Item,{eventKey:\"3\",children:\"2016\"}),/*#__PURE__*/_jsx(Dropdown.Item,{eventKey:\"4\",children:\"2017\"}),/*#__PURE__*/_jsx(Dropdown.Item,{eventKey:\"5\",children:\"2018\"}),/*#__PURE__*/_jsx(Dropdown.Item,{eventKey:\"6\",children:\"2019\"}),/*#__PURE__*/_jsx(Dropdown.Item,{eventKey:\"7\",children:\"2020\"})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleReset,style:{marginLeft:'1vw',width:'10rem'},children:\"Reset Filters\"})]});};export default Filters;","map":{"version":3,"names":["React","Button","Dropdown","axios","jsx","_jsx","jsxs","_jsxs","Filters","_ref","setMainData","handleSelect","eventKey","event","getDataFromDB","target","innerText","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","year","response","wrap","_callee$","_context","prev","next","get","concat","sent","data","t0","console","log","stop","_x","apply","arguments","handleReset","_ref3","_callee2","_callee2$","_context2","className","style","display","justifyContent","flexDirection","alignItems","children","onSelect","Toggle","variant","id","Menu","Item","onClick","marginLeft","width"],"sources":["C:/Users/Weed/Downloads/Data_Visualization_Dashboard-MERN-Stack-main/Data_Visualization_Dashboard-MERN-Stack-main/Client/dashboard/src/components/Filters.jsx"],"sourcesContent":["import React from 'react'\nimport Button from 'react-bootstrap/Button';\nimport { Dropdown } from 'react-bootstrap';\nimport axios from 'axios';\n\n// here we are returning a bootstrap dropdown and just a button\nconst Filters = ({ setMainData }) => {\n    //function to call the getDataFromDB function and passing the 'year' to it entered by the user\n    const handleSelect = (eventKey, event) => {\n        getDataFromDB(event.target.innerText)\n    };\n    // func to fetch the filtered data by year and update the state\n    const getDataFromDB = async(year) => {\n        try{\n            const response = await axios.get(`https://dashboard-6bfs.onrender.com/api/data/year/${year}`);\n            setMainData(response.data.data)\n        }\n        catch(e){\n            console.log(e)\n        }\n    }\n    // func to handle the \"reset filters button\" by making another api call and update state \n    const handleReset = async() => {\n        try{\n            const response = await axios.get(\"https://dashboard-6bfs.onrender.com/api/data/all\");\n            setMainData(response.data.data)\n        }\n        catch(e){\n            console.log(e)\n        }\n       \n    }\n\n    return (\n        <div className='tabsClass' style={{ display: 'flex', justifyContent: 'center', flexDirection: 'row', alignItems: 'center' }}>\n\n            <Dropdown onSelect={handleSelect}>\n\n                <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                    Filter By Year\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu>\n                    <Dropdown.Item eventKey=\"1\" >2014</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"2\" >2015</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"3\" >2016</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"4\" >2017</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"5\" >2018</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"6\" >2019</Dropdown.Item>\n                    <Dropdown.Item eventKey=\"7\" >2020</Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>\n\n            <Button variant=\"danger\" onClick={handleReset} style={{ marginLeft: '1vw', width: '10rem' }}>Reset Filters</Button>\n        </div>\n    )\n}\n\nexport default Filters"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}